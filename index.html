<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>طلب إذن لتفعيل الصوت</title>
</head>
<body>
    <h1>طلب إذن لتفعيل الصوت</h1>
    <button id="requestAudioPermission">تفعيل الصوت</button>
    
    <script>
        document.getElementById('requestAudioPermission').onclick = async function() {
            try {
                // إنشاء AudioContext
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                await audioContext.resume(); // محاولة استئناف AudioContext
                
                // تشغيل صوت بسيط
                const oscillator = audioContext.createOscillator();
                oscillator.type = 'sine'; // نوع الصوت
                oscillator.frequency.setValueAtTime(440, audioContext.currentTime); // تردد الصوت
                oscillator.connect(audioContext.destination); // ربط بالصوت
                oscillator.start(); // تشغيل الصوت
                oscillator.stop(audioContext.currentTime + 1); // التوقف بعد 1 ثانية
                
                alert("تم تفعيل صلاحية الصوت!"); // تأكيد للمستخدم
            } catch (error) {
                console.error('فشل في تفعيل الصوت:', error);
                alert("فشل في تفعيل صلاحية الصوت: " + error.message);
            }
        };
    </script>
</body>
</html>
